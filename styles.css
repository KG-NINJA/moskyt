:root {
  --bg: #0b1020;
  --fg: #e7f3ff;
  --muted: #9fb3c8;
  --card: #121a2f;
  --border: #24324a;
  --accent: #06b6d4;
  --accent-2: #22d3ee;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, "Hiragino Kaku Gothic ProN", "Noto Sans JP", "Yu Gothic UI", "Meiryo", sans-serif;
  background: radial-gradient(1200px 800px at 80% -20%, #12213a, transparent),
              radial-gradient(800px 600px at -10% 120%, #0a2030, transparent),
              var(--bg);
  color: var(--fg);
  line-height: 1.6;
}

.container {
  max-width: 860px;
  padding: 20px;
  margin: 0 auto;
}

h1 { font-size: 28px; margin: 18px 0 6px; }
h2 { font-size: 20px; margin: 18px 0 8px; }
.muted { color: var(--muted); }

.card {
  margin-top: 14px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.0));
  border: 1px solid var(--border);
  border-radius: 14px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.25), inset 0 1px 0 rgba(255,255,255,0.04);
}

.controls { padding: 18px; }
.row { display: flex; gap: 12px; align-items: center; margin-bottom: 16px; }
select, .secondary {
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.04);
  color: var(--fg);
  padding: 9px 12px;
  border-radius: 12px;
}

button {
  appearance: none;
  border: 1px solid var(--border);
  background: linear-gradient(180deg, rgba(34,211,238,0.15), rgba(6,182,212,0.12));
  color: var(--fg);
  padding: 10px 16px;
  border-radius: 12px;
  font-weight: 600;
  letter-spacing: 0.01em;
  cursor: pointer;
  transition: transform .06s ease, box-shadow .2s ease, background .2s ease;
  box-shadow: 0 6px 16px rgba(6,182,212,0.12), inset 0 1px 0 rgba(255,255,255,0.06);
}
button:hover { transform: translateY(-1px); box-shadow: 0 10px 22px rgba(6,182,212,0.18); }
button:active { transform: translateY(0); }
button.primary { border-color: #175a66; }
button.secondary { background: rgba(255,255,255,0.06); }

.badge {
  font-size: 12px;
  padding: 6px 10px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.04);
}
.badge.on { color: #0df2be; border-color: #11674e; background: rgba(13,242,190,0.08); }
.badge.off { color: #f2b00d; border-color: #6a540f; background: rgba(242,176,13,0.08); }

.field { margin: 14px 0; }
label { display: block; font-weight: 600; margin-bottom: 8px; }
input[type="range"] { width: 100%; }
.help { color: var(--muted); font-size: 12px; margin: 6px 0 0; }

.notes { padding: 0 18px 18px; }
.notes ul { margin: 8px 0 0; padding-left: 18px; }
.notes li { margin: 6px 0; }

.footer { text-align: center; padding: 24px 20px 40px; }

/* 投票チップ */
.vote-share { justify-content: space-between; flex-wrap: wrap; }
.chip {
  border-radius: 999px;
  padding: 8px 14px;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.04);
}
.chip.good { border-color: #0d6b4f; background: rgba(13,242,190,0.08); }
.chip.bad { border-color: #6b2f0d; background: rgba(242,130,13,0.08); }
.chip.unknown { border-color: #51546b; background: rgba(135,147,255,0.08); }

/* 蚊アニメーション */
.mosquito-stage { position: relative; height: 160px; padding: 8px 18px 18px; overflow: hidden; }
.mosq-wrap { position: absolute; inset: 0; pointer-events: none; }
.mosq {
  position: absolute;
  width: 16px; height: 16px;
  background: radial-gradient(circle at 40% 40%, #000, #333);
  border-radius: 50% 50% 40% 40%;
  box-shadow: 10px 0 0 0 rgba(0,0,0,0.5) inset;
  animation: buzz 0.4s infinite ease-in-out alternate;
}
.mosq::after { content: ""; position: absolute; left: 6px; top: 6px; width: 12px; height: 2px; background: #999; transform-origin: left center; animation: wing 0.12s infinite; }
.m1 { left: 20%; top: 60%; }
.m2 { left: 50%; top: 40%; }
.m3 { left: 75%; top: 70%; }
.escape .mosq { animation: flee 0.8s ease forwards, wing 0.12s infinite; }

@keyframes buzz { from { transform: translateY(-2px); } to { transform: translateY(2px); } }
@keyframes wing { from { filter: brightness(1); } to { filter: brightness(1.4); } }
@keyframes flee { to { transform: translateY(-220px) translateX(120px) rotate(20deg); opacity: 0; } }

/* チャート */
.charts { padding: 0 18px 18px; }
.small { font-size: 12px; }

/* レベルメーター */
.meter { padding: 0 18px 18px; }
#levelMeter {
  width: 100%;
  max-width: 100%;
  display: block;
  background: linear-gradient(90deg, rgba(13,242,190,0.08), rgba(242,176,13,0.08), rgba(242,76,13,0.08));
  border: 1px solid var(--border);
  border-radius: 8px;
}
